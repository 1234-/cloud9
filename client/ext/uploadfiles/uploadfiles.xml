<a:application xmlns:a="http://ajax.org/2005/aml">
    
    <a:window id="winUploadFiles"
      onshow  = "require('ext/uploadfiles/uploadfiles').onShow()"
      title   = "Upload Files"
      buttons = "close"
      skin    = "bk-window"
      class   = "relative dark-bg"
      modal   = "false"
      center  = "true"
      width   = "354"
      kbclose = "true">
        <a:vbox edge="10" padding="5" align="center">
            <a:vbox id="uploadDropArea" class="uploadDropArea" align="center" pack="center">
                <div class="uploadText"></div>
                <input id="fileUploadSelect" type="file" multiple="multiple" />
            </a:vbox>
            <div style="color: #838383">Your files will instantly start uploading to: <span id="uplTargetFolder"></span></div>
        </a:vbox>    
        <a:hbox padding="10" pack="end" edge="6 10 10">
            <a:button onclick="winUploadFiles.hide()" skin="btn-default-css3">Close</a:button>
        </a:hbox>
    </a:window>
    
    <a:model id="mdlUploadActivity">
        <data>
            <file name="file1.txt" uploading="1" progress="90" />
            <file name="file2.txt" />
            <file name="file3.txt" />
            <file name="file4.txt" />
            <file name="file5.txt" />
            <file name="file6.txt" />
            <file name="file7.txt" />
            <file name="file8.txt" />
            <file name="file9.txt" />
            <file name="file10.txt" />
        </data>
    </a:model>
    
    <a:vbox id="boxUploadActivity" height="100" visible="false">
        <div class="uploadactivity-header">Upload Activity</div>
        <a:list id="lstUploadActivity"
            skin = "list-uploadactivity"
            model = "mdlUploadActivity"
            flex="1"
            scrollbar = "sbShared 2 2 2"
            onshow2='trFiles.setProperty("scrollbar", "sbShared 2 2 " + this.height);
    sbShared.setProperty("bottom", this.height);'
        >
            <a:each match="[file]">
                <a:caption><?lm
                    if ([@progress]) {
                        <div class="uploadactivity-caption bold">[@name]</div>
                        <div class="uploadactivity-progress">[@progress]%</div>
                    }
                    else {
                        <div class="uploadactivity-caption">[@name]</div>
                        <div class="uploadactivity-delete" onclick="alert('todo')"></div>
                    }
                ?></a:caption>
            </a:each>
        </a:list>
    </a:vbox>
</a:application>
